name: Build and Deploy

on:
  push:
    branches:
      - master

jobs:
  build-and-deploy:

    runs-on: ubuntu-latest

    steps:
      - name: Checkout ğŸ›ï¸
        uses: actions/checkout@v2
        with:
          persist-credentials: false 

      - name: Install and Build ğŸ”§
        run: |
          npm install
          npm run-script build

      - name: Deploy to GitHub Pages ğŸš€
          uses: peaceiris/actions-gh-pages@v3.6.1
          with:
            github_token: ${{ secrets.GITHUB_TOKEN }}
            publish_branch: gh-pages
            publish_dir: docs
            allow_empty_commit: false
            keep_files: false
            # Keep only the latest commit on a GitHub Pages branch
            force_orphan: # optional, default is false
            # Set Git user.name
            user_name: Henrik Giesel
            user_email: hengiesel@gmail.com
            enable_jekyll: false
            disable_nojekyll: false
            cname: # optional
